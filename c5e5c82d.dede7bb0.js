(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{83:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return l})),t.d(n,"metadata",(function(){return i})),t.d(n,"toc",(function(){return c})),t.d(n,"default",(function(){return s}));var r=t(3),a=t(7),o=(t(0),t(93)),l={id:"examples",title:"Draggable Live Examples",description:"JavaScript draggable examples",keywords:["draggable","JavaScript","examples","Vue","React","DOM","dflex"]},i={unversionedId:"draggable/examples",id:"draggable/examples",isDocsHomePage:!1,title:"Draggable Live Examples",description:"JavaScript draggable examples",source:"@site/docs\\draggable\\examples.md",slug:"/draggable/examples",permalink:"/dflex/docs/draggable/examples",editUrl:"https://github.com/jalal246/dflex/edit/master/docs/docs/draggable/examples.md",version:"current",sidebar:"someSidebar",previous:{title:"Draggable",permalink:"/dflex/docs/draggable/introduction"},next:{title:"Draggable Framework Implementations",permalink:"/dflex/docs/draggable/implementations"}},c=[{value:"Basic Draggable Component",id:"basic-draggable-component",children:[]},{value:"Drag Handler",id:"drag-handler",children:[]},{value:"Horizontal &amp; Vertical",id:"horizontal--vertical",children:[]}],d={toc:c};function s(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},d,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"It's all about mouse events.")),Object(o.b)("h3",{id:"basic-draggable-component"},"Basic Draggable Component"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx",metastring:"live",live:!0}),'// Create useable Draggable component\nfunction Draggable({ id = Date.now(), depth = 0 }) {\n  const { store, Draggable } = DFlexDraggable;\n\n  // Create Shared dragged event holder\n  let draggedEvent;\n\n  // This reference enable DFlex to move the element when required\n  const ref = React.createRef();\n\n  React.useEffect(() => {\n    // Wait until component is mounted to get the reference\n    if (ref) {\n      store.register({ id, element: ref.current, depth });\n    }\n  }, [ref]);\n\n  const onMouseMove = (e) => {\n    if (draggedEvent) {\n      const { clientX, clientY } = e;\n\n      // Drag when mouse is moving!\n      draggedEvent.dragAt(clientX, clientY);\n    }\n  };\n\n  const onMouseUp = () => {\n    if (draggedEvent) {\n      draggedEvent.endDragging();\n      draggedEvent = null;\n\n      document.removeEventListener("mouseup", onMouseUp);\n      document.removeEventListener("mousemove", onMouseMove);\n    }\n  };\n\n  const onMouseDown = (e) => {\n    const { button, clientX, clientY } = e;\n\n    // Avoid right mouse click and ensure id\n    if (typeof button === "number" && button === 0) {\n      if (id) {\n        // Create Draggable instance\n        draggedEvent = new Draggable(id, { x: clientX, y: clientY });\n\n        // Add event listeners to the entire document. Not just the button boundaries.\n        document.addEventListener("mouseup", onMouseUp);\n        document.addEventListener("mousemove", onMouseMove);\n      }\n    }\n  };\n\n  return (\n    <button\n      className="button-solo"\n      type="button"\n      ref={ref}\n      key={id}\n      id={id}\n      onMouseDown={onMouseDown}\n    >\n      Drag me!\n    </button>\n  );\n}\n')),Object(o.b)("p",null,"Simple as that. No special components. No extra functionality. Everything so natural. And you don't have to as for extra features. You have full control."),Object(o.b)("h3",{id:"drag-handler"},"Drag Handler"),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Just trigger the drag over the handler.")),Object(o.b)("p",null,"Same old, same old. Add the mouse event to SVG handler."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),'<div className="draggable" ref={ref} key={id} id={id}>\n  <span className="text"> Drag me</span>\n  <HandlerSVG onMouseDown={onMouseDown} />\n</div>\n')),Object(o.b)("p",null,"The full code will be:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx",metastring:"live",live:!0}),'// Create useable Draggable component\nfunction Draggable({ id = Date.now(), depth = 0 }) {\n  const { store, Draggable } = DFlexDraggable;\n\n  // Create Shared dragged event holder\n  let draggedEvent;\n\n  // This reference enable DFlex to move the element when required\n  const ref = React.createRef();\n\n  React.useEffect(() => {\n    // Wait until component is mounted to get the reference\n    setTimeout(\n      // Register element in the store\n      function () {\n        store.register({ id, element: ref.current, depth });\n      },\n      0\n    );\n  }, []);\n\n  const onMouseMove = (e) => {\n    if (draggedEvent) {\n      const { clientX, clientY } = e;\n\n      // Drag when mouse is moving!\n      draggedEvent.dragAt(clientX, clientY);\n    }\n  };\n\n  const onMouseUp = () => {\n    if (draggedEvent) {\n      draggedEvent.endDragging();\n      draggedEvent = null;\n\n      document.removeEventListener("mouseup", onMouseUp);\n      document.removeEventListener("mousemove", onMouseMove);\n    }\n  };\n\n  const onMouseDown = (e) => {\n    const { button, clientX, clientY } = e;\n\n    // Avoid right mouse click and ensure id\n    if (typeof button === "number" && button === 0) {\n      if (id) {\n        // Create Draggable instance\n        draggedEvent = new Draggable(id, { x: clientX, y: clientY });\n\n        // Add event listeners to the entire document. Not just the button boundaries.\n        document.addEventListener("mouseup", onMouseUp);\n        document.addEventListener("mousemove", onMouseMove);\n      }\n    }\n  };\n\n  return (\n    <div className="draggable" ref={ref} key={id} id={id}>\n      <span className="text"> Drag my handler</span>\n      <HandlerSVG onMouseDown={onMouseDown} />\n    </div>\n  );\n}\n')),Object(o.b)("h3",{id:"horizontal--vertical"},"Horizontal & Vertical"),Object(o.b)("p",null,"Now compare this component to other components available. See how much code you usually write and how deep complexity you can add to achieve the same result with DFlex."),Object(o.b)("p",null,"To add Horizontal or Vertical only dragging you control the input so you can freeze X or Y:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"draggedEvent.dragAt(fixedX, clientY);\n\n// or maybe\n\ndraggedEvent.dragAt(clientX, fixedY);\n")))}s.isMDXComponent=!0},93:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return b}));var r=t(0),a=t.n(r);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var d=a.a.createContext({}),s=function(e){var n=a.a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=s(e.components);return a.a.createElement(d.Provider,{value:n},e.children)},g={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},m=a.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),u=s(t),m=r,b=u["".concat(l,".").concat(m)]||u[m]||g[m]||o;return t?a.a.createElement(b,i(i({ref:n},d),{},{components:t})):a.a.createElement(b,i({ref:n},d))}));function b(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,l=new Array(o);l[0]=m;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var d=2;d<o;d++)l[d]=t[d];return a.a.createElement.apply(null,l)}return a.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);